<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36" version="28.2.7">
  <diagram name="Diagrama de Clases - Hospital San Vicente" id="class-diagram">
    <mxGraphModel dx="2560" dy="793" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1200" pageHeight="800" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title" value="DIAGRAMA DE CLASES - SISTEMA HOSPITAL SAN VICENTE" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;fontColor=#2F5597;" parent="1" vertex="1">
          <mxGeometry x="400" y="20" width="400" height="30" as="geometry" />
        </mxCell>
        <mxCell id="patient" value="&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;Patient&#xa;&#xa;+ Id: int&#xa;+ Name: string&#xa;+ Document: string&#xa;+ Age: int&#xa;+ Phone: string&#xa;+ Email: string&#xa;+ CreatedAt: DateTime&#xa;+ Appointments: ICollection&lt;Appointment&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#F3E5F5;strokeColor=#4A148C;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="50" y="85" width="230" height="170" as="geometry" />
        </mxCell>
        <mxCell id="doctor" value="&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;Doctor&#xa;&#xa;+ Id: int&#xa;+ Name: string&#xa;+ Document: string&#xa;+ Specialty: string&#xa;+ Phone: string&#xa;+ Email: string&#xa;+ CreatedAt: DateTime&#xa;+ Appointments: ICollection&lt;Appointment&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#F3E5F5;strokeColor=#4A148C;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="300" y="80" width="200" height="170" as="geometry" />
        </mxCell>
        <mxCell id="appointment" value="&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;Appointment&#xa;+ Id: int&#xa;+ PatientId: int&#xa;+ DoctorId: int&#xa;+ AppointmentDate: DateTime&#xa;+ AppointmentTime: TimeSpan&#xa;+ Status: AppointmentStatus&#xa;+ Notes: string?&#xa;+ CreatedAt: DateTime&#xa;+ Patient: Patient&#xa;+ Doctor: Doctor" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#F3E5F5;strokeColor=#4A148C;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="550" y="80" width="200" height="180" as="geometry" />
        </mxCell>
        <mxCell id="emailLog" value="&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;EmailLog&#xa;&#xa;+ Id: int&#xa;+ AppointmentId: int&#xa;+ RecipientEmail: string&#xa;+ Subject: string&#xa;+ Body: string&#xa;+ Status: EmailStatus&#xa;+ SentAt: DateTime&#xa;+ ErrorMessage: string?&#xa;+ Appointment: Appointment" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#F3E5F5;strokeColor=#4A148C;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="800" y="80" width="200" height="170" as="geometry" />
        </mxCell>
        <mxCell id="appointmentStatus" value="&#xa;&#xa;&#xa;&#xa;&lt;&lt;enumeration&gt;&gt;&#xa;AppointmentStatus&#xa;&#xa;Scheduled = 1&#xa;Attended = 2&#xa;Cancelled = 3" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#E0F2F1;strokeColor=#00695C;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="450" y="300" width="150" height="100" as="geometry" />
        </mxCell>
        <mxCell id="emailStatus" value="&#xa;&#xa;&#xa;&#xa;&lt;&lt;enumeration&gt;&gt;&#xa;EmailStatus&#xa;&#xa;Sent = 1&#xa;NotSent = 2&#xa;Failed = 3" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#E0F2F1;strokeColor=#00695C;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="650" y="300" width="150" height="100" as="geometry" />
        </mxCell>
        <mxCell id="iPatientService" value="&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&lt;&lt;interface&gt;&gt;&#xa;IPatientService&#xa;&#xa;+ GetPatientByIdAsync(id: int) : Task&lt;Patient?&gt;&#xa;+ GetAllPatientsAsync() : Task&lt;List&lt;Patient&gt;&gt;&#xa;+ CreatePatientAsync(patient: Patient) : Task&lt;Patient&gt;&#xa;+ UpdatePatientAsync(id: int, patient: Patient) : Task&lt;Patient&gt;&#xa;+ DeletePatientAsync(id: int) : Task&lt;bool&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#FFF8E1;strokeColor=#F57F17;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="-110" y="440" width="360" height="130" as="geometry" />
        </mxCell>
        <mxCell id="iDoctorService" value="&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&lt;&lt;interface&gt;&gt;&#xa;IDoctorService&#xa;&#xa;+ GetDoctorByIdAsync(id: int) : Task&lt;Doctor?&gt;&#xa;+ GetAllDoctorsAsync() : Task&lt;List&lt;Doctor&gt;&gt;&#xa;+ CreateDoctorAsync(doctor: Doctor) : Task&lt;Doctor&gt;&#xa;+ UpdateDoctorAsync(id: int, doctor: Doctor) : Task&lt;Doctor&gt;&#xa;+ DeleteDoctorAsync(id: int) : Task&lt;bool&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#FFF8E1;strokeColor=#F57F17;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="280" y="430" width="330" height="140" as="geometry" />
        </mxCell>
        <mxCell id="iAppointmentService" value="&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&lt;&lt;interface&gt;&gt;&#xa;IAppointmentService&#xa;&#xa;+ GetAppointmentByIdAsync(id: int) : Task&lt;Appointment?&gt;&#xa;+ GetAllAppointmentsAsync() : Task&lt;List&lt;Appointment&gt;&gt;&#xa;+ CreateAppointmentAsync(appointment: Appointment) : Task&lt;Appointment&gt;&#xa;+ UpdateAppointmentAsync(id: int, appointment: Appointment) : Task&lt;Appointment&gt;&#xa;+ CancelAppointmentAsync(id: int) : Task&lt;bool&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#FFF8E1;strokeColor=#F57F17;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="630" y="435" width="460" height="130" as="geometry" />
        </mxCell>
        <mxCell id="iEmailService" value="&#xa;&#xa;&#xa;&#xa;&#xa;&lt;&lt;interface&gt;&gt;&#xa;IEmailService&#xa;&#xa;+ SendAppointmentConfirmationAsync(appointment: Appointment) : Task&lt;bool&gt;&#xa;+ GetEmailHistoryAsync() : Task&lt;List&lt;EmailLog&gt;&gt;&#xa;+ TestEmailConfigurationAsync(testEmail: string) : Task&lt;bool&gt;&#xa;+ GetEmailStatisticsAsync() : Task&lt;Dictionary&lt;string, int&gt;&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#FFF8E1;strokeColor=#F57F17;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="1110" y="435" width="450" height="120" as="geometry" />
        </mxCell>
        <mxCell id="patientService" value="&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;PatientService&#xa;&#xa;- _context: HospitalDbContext&#xa;&#xa;+ PatientService(context: HospitalDbContext)&#xa;+ GetPatientByIdAsync(id: int) : Task&lt;Patient?&gt;&#xa;+ GetAllPatientsAsync() : Task&lt;List&lt;Patient&gt;&gt;&#xa;+ CreatePatientAsync(patient: Patient) : Task&lt;Patient&gt;&#xa;+ UpdatePatientAsync(id: int, patient: Patient) : Task&lt;Patient&gt;&#xa;+ DeletePatientAsync(id: int) : Task&lt;bool&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#E8F5E8;strokeColor=#2E7D32;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="-95" y="630" width="330" height="170" as="geometry" />
        </mxCell>
        <mxCell id="doctorService" value="&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;DoctorService&#xa;&#xa;- _context: HospitalDbContext&#xa;&#xa;+ DoctorService(context: HospitalDbContext)&#xa;+ GetDoctorByIdAsync(id: int) : Task&lt;Doctor?&gt;&#xa;+ GetAllDoctorsAsync() : Task&lt;List&lt;Doctor&gt;&gt;&#xa;+ CreateDoctorAsync(doctor: Doctor) : Task&lt;Doctor&gt;&#xa;+ UpdateDoctorAsync(id: int, doctor: Doctor) : Task&lt;Doctor&gt;&#xa;+ DeleteDoctorAsync(id: int) : Task&lt;bool&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#E8F5E8;strokeColor=#2E7D32;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="275" y="630" width="340" height="170" as="geometry" />
        </mxCell>
        <mxCell id="appointmentService" value="&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;AppointmentService&#xa;&#xa;- _context: HospitalDbContext&#xa;- _emailService: IEmailService&#xa;&#xa;+ AppointmentService(context: HospitalDbContext, emailService: IEmailService)&#xa;+ GetAppointmentByIdAsync(id: int) : Task&lt;Appointment?&gt;&#xa;+ GetAllAppointmentsAsync() : Task&lt;List&lt;Appointment&gt;&gt;&#xa;+ CreateAppointmentAsync(appointment: Appointment) : Task&lt;Appointment&gt;&#xa;+ UpdateAppointmentAsync(id: int, appointment: Appointment) : Task&lt;Appointment&gt;&#xa;+ CancelAppointmentAsync(id: int) : Task&lt;bool&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#E8F5E8;strokeColor=#2E7D32;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="625" y="630" width="470" height="180" as="geometry" />
        </mxCell>
        <mxCell id="emailService" value="&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;EmailService&#xa;&#xa;- _context: HospitalDbContext&#xa;&#xa;+ EmailService(context: HospitalDbContext)&#xa;+ SendAppointmentConfirmationAsync(appointment: Appointment) : Task&lt;bool&gt;&#xa;+ GetEmailHistoryAsync() : Task&lt;List&lt;EmailLog&gt;&gt;&#xa;+ TestEmailConfigurationAsync(testEmail: string) : Task&lt;bool&gt;&#xa;+ GetEmailStatisticsAsync() : Task&lt;Dictionary&lt;string, int&gt;&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#E8F5E8;strokeColor=#2E7D32;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="1115" y="650" width="440" height="150" as="geometry" />
        </mxCell>
        <mxCell id="rel1" value="" style="endArrow=none;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#FF9800;strokeWidth=2;dashed=1;" parent="1" source="appointment" target="appointmentStatus" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="650" y="260" as="sourcePoint" />
            <mxPoint x="125" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rel2" value="" style="endArrow=none;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#FF9800;strokeWidth=2;dashed=1;" parent="1" source="emailLog" target="emailStatus" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="900" y="260" as="sourcePoint" />
            <mxPoint x="325" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rel3" value="" style="endArrow=none;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#9C27B0;strokeWidth=3;" parent="1" source="iPatientService" target="patientService" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="150" y="570" as="sourcePoint" />
            <mxPoint x="150" y="600" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rel4" value="" style="endArrow=none;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#9C27B0;strokeWidth=3;" parent="1" source="iDoctorService" target="doctorService" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="570" as="sourcePoint" />
            <mxPoint x="400" y="600" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rel5" value="" style="endArrow=none;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#9C27B0;strokeWidth=3;" parent="1" source="iAppointmentService" target="appointmentService" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="650" y="570" as="sourcePoint" />
            <mxPoint x="650" y="600" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rel6" value="" style="endArrow=none;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#9C27B0;strokeWidth=3;" parent="1" source="iEmailService" target="emailService" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="900" y="570" as="sourcePoint" />
            <mxPoint x="900" y="600" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rel7" value="" style="endArrow=none;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#607D8B;strokeWidth=2;dashed=1;" parent="1" source="appointmentService" target="iEmailService" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="550" y="680" as="sourcePoint" />
            <mxPoint x="800" y="510" as="targetPoint" />
            <Array as="points">
              <mxPoint x="625" y="590" />
              <mxPoint x="1120" y="590" />
              <mxPoint x="1580" y="590" />
              <mxPoint x="1610" y="590" />
              <mxPoint x="1610" y="495" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="legend" value="&amp;nbsp;LEYENDA:&lt;br&gt;&lt;br&gt;━━━ Implementación de Interface&lt;br&gt;┅┅┅ Dependencia/Uso&lt;br&gt;&lt;br&gt;COLORES:&lt;br&gt;• Morado: Modelos de datos&lt;br&gt;• Naranja: Interfaces&lt;br&gt;• Verde: Implementaciones&lt;br&gt;• Verde claro: Enumeraciones" style="text;html=1;strokeColor=#666666;fillColor=#F5F5F5;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=10;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="70" y="280" width="195" height="140" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
